<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="market">
	<select id="marketList" parameterType="map" resultType="ma">
		select
			p_no as pNo,
			owner_no as ownerNo,
			(select store_Name from store s where s.owner_no = m.owner_no) as storeName,
			p_name as pName,
			p_price as pPrice,
			p_img as pImg
		from market_product m where p_no between #{start} and #{end}
	</select>
	
	<insert id="addMarketProduct" parameterType="ma">
		insert into market_product values(mp_seq.nextval,
			#{ownerNo},
			#{pName},
			#{pPrice},
			#{pContent},
			#{pImg},
			#{storeNo},
			#{pCategory}
		)
	</insert>
	
	<select id="marketProductList" parameterType="int" resultType="ma">
		select
			p_no as pNo,
			owner_no as ownerNo,
			p_name as pName,
			p_price as pPrice,
			p_img as pImg,
			store_no as storeNo,
			pCategory
		from market_product
		where store_no = #{storeNo}
	</select>
	
	<select id="deleteMarketProduct" parameterType="int">
		 delete from market_product 
		 where p_no = #{_parameter}
	</select>
</mapper>
